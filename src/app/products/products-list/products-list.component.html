<div class="parent">
  @for (product of products$ | async; track product) {
  <mat-card>
    <div class="media-grid">
      <figure class="product-figure">
        @switch (product.status) { @case ("sale") {
        <div class="product-badge-sale">
          <span>Sale</span>
        </div>
        } @case ("feat") {
        <div class="product-badge-feat">
          <span>Feat</span>
        </div>
        } @case ("new") {
        <div class="product-badge-new">
          <span>New</span>
        </div>
        } @case ("oos") {
        <div class="product-badge-oos">
          <span>Oos</span>
        </div>
        } @case ("feat") {
        <div class="product-badge-feat">
          <span>Feat</span>
        </div>
        } }

        <img
          src="assets/images/{{ product.image }}.jpg"
          height="245px"
          alt="{{ product.name }}"
        />
      </figure>
    </div>
    <mat-card-content class="pa-1">
      <div class="product-details">
        <button
          mat-button
          class="product-details-button"
          [routerLink]="['/products/detail', product.id]"
        >
          <p class="ma-0">{{ product.name }}</p>
          <p class="ma-0 pa-0 text-md">{{ product.description }}</p>
        </button>

        <div class="mat-text-primary text-xl">
          @if (product.discounted === 'discounted') {
          <span class="strikethrough mat-text-muted text-sm"
            >€ {{ product.discount }}</span
          >
          }
          <span> € {{ product.price }}</span>
        </div>
        <button
          mat-icon-button
          color="accent"
          (click)="addProductToCart(product)"
        >
          <mat-icon>add_shopping_cart</mat-icon>
        </button>
        <button
          mat-icon-button
          color="accent"
          [routerLink]="['/products/edit', product.id]"
        >
          <mat-icon>edit</mat-icon>
        </button>
      </div>
    </mat-card-content>
  </mat-card>
  }
</div>
